<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Tue Oct 09 10:43:16 UTC 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WatermarkPolicies (hazelcast-jet-root 0.7 API)</title>
<meta name="date" content="2018-10-09">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WatermarkPolicies (hazelcast-jet-root 0.7 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WatermarkPolicies.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/hazelcast/jet/core/WatermarkGenerationParams.html" title="class in com.hazelcast.jet.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/hazelcast/jet/core/WatermarkPolicy.html" title="interface in com.hazelcast.jet.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/hazelcast/jet/core/WatermarkPolicies.html" target="_top">Frames</a></li>
<li><a href="WatermarkPolicies.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.hazelcast.jet.core</div>
<h2 title="Class WatermarkPolicies" class="title">Class WatermarkPolicies</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.hazelcast.jet.core.WatermarkPolicies</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">WatermarkPolicies</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Utility class with factories of several useful watermark policies.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="../../../../com/hazelcast/jet/function/DistributedSupplier.html" title="interface in com.hazelcast.jet.function">DistributedSupplier</a>&lt;<a href="../../../../com/hazelcast/jet/core/WatermarkPolicy.html" title="interface in com.hazelcast.jet.core">WatermarkPolicy</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/core/WatermarkPolicies.html#limitingLag-long-">limitingLag</a></span>(long&nbsp;lag)</code>
<div class="block">Maintains a watermark that lags behind the top observed timestamp by the
 given amount.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../com/hazelcast/jet/function/DistributedSupplier.html" title="interface in com.hazelcast.jet.function">DistributedSupplier</a>&lt;<a href="../../../../com/hazelcast/jet/core/WatermarkPolicy.html" title="interface in com.hazelcast.jet.core">WatermarkPolicy</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/core/WatermarkPolicies.html#limitingLagAndDelay-long-long-">limitingLagAndDelay</a></span>(long&nbsp;lag,
                   long&nbsp;maxDelayMs)</code>
<div class="block">Maintains a watermark that lags behind the top observed timestamp by at
 most the given amount and is additionally guaranteed to reach the
 timestamp of any given event within <code>maxDelayMs</code> of system time
 after observing it.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="../../../../com/hazelcast/jet/function/DistributedSupplier.html" title="interface in com.hazelcast.jet.function">DistributedSupplier</a>&lt;<a href="../../../../com/hazelcast/jet/core/WatermarkPolicy.html" title="interface in com.hazelcast.jet.core">WatermarkPolicy</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/core/WatermarkPolicies.html#limitingLagAndLull-long-long-">limitingLagAndLull</a></span>(long&nbsp;lag,
                  long&nbsp;maxLullMs)</code>
<div class="block">Maintains watermark that lags behind the top timestamp by the amount
 specified with <code>lag</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../com/hazelcast/jet/function/DistributedSupplier.html" title="interface in com.hazelcast.jet.function">DistributedSupplier</a>&lt;<a href="../../../../com/hazelcast/jet/core/WatermarkPolicy.html" title="interface in com.hazelcast.jet.core">WatermarkPolicy</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/core/WatermarkPolicies.html#limitingTimestampAndWallClockLag-long-long-">limitingTimestampAndWallClockLag</a></span>(long&nbsp;timestampLag,
                                long&nbsp;wallClockLag)</code>
<div class="block">Maintains watermark that lags behind the top timestamp by at most
 <code>timestampLag</code> and behind wall-clock time by at most <code>wallClockLag</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="limitingLag-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>limitingLag</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
public static&nbsp;<a href="../../../../com/hazelcast/jet/function/DistributedSupplier.html" title="interface in com.hazelcast.jet.function">DistributedSupplier</a>&lt;<a href="../../../../com/hazelcast/jet/core/WatermarkPolicy.html" title="interface in com.hazelcast.jet.core">WatermarkPolicy</a>&gt;&nbsp;limitingLag(long&nbsp;lag)</pre>
<div class="block">Maintains a watermark that lags behind the top observed timestamp by the
 given amount. In the case of a stream lull the watermark does not
 advance towards the top observed timestamp and remains behind it
 indefinitely.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lag</code> - the desired difference between the top observed timestamp
            and the watermark</dd>
</dl>
</li>
</ul>
<a name="limitingLagAndDelay-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>limitingLagAndDelay</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
public static&nbsp;<a href="../../../../com/hazelcast/jet/function/DistributedSupplier.html" title="interface in com.hazelcast.jet.function">DistributedSupplier</a>&lt;<a href="../../../../com/hazelcast/jet/core/WatermarkPolicy.html" title="interface in com.hazelcast.jet.core">WatermarkPolicy</a>&gt;&nbsp;limitingLagAndDelay(long&nbsp;lag,
                                                                                long&nbsp;maxDelayMs)</pre>
<div class="block">Maintains a watermark that lags behind the top observed timestamp by at
 most the given amount and is additionally guaranteed to reach the
 timestamp of any given event within <code>maxDelayMs</code> of system time
 after observing it.
 <p>
 Keep in mind that the scope of the "top observed timestamp" is only the
 items received by an individual processor: the watermark of a processor
 using this policy will never advance beyond the timestamp it observed in
 isolation from the rest of the system. In the case of severe stream skew
 a given processor's watermark may lag significantly behind that of other
 processors and cause delays when getting coalesced with them in
 downstream processors. To overcome this you can also configure <a href="../../../../com/hazelcast/jet/config/JobConfig.html#setMaxWatermarkRetainMillis-int-"><code>JobConfig.setMaxWatermarkRetainMillis</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lag</code> - upper bound on the difference between the top observed timestamp and the
               watermark</dd>
<dd><code>maxDelayMs</code> - upper bound (in milliseconds) on how long it can take for the
                   watermark to reach any observed event's timestamp</dd>
</dl>
</li>
</ul>
<a name="limitingTimestampAndWallClockLag-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>limitingTimestampAndWallClockLag</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
public static&nbsp;<a href="../../../../com/hazelcast/jet/function/DistributedSupplier.html" title="interface in com.hazelcast.jet.function">DistributedSupplier</a>&lt;<a href="../../../../com/hazelcast/jet/core/WatermarkPolicy.html" title="interface in com.hazelcast.jet.core">WatermarkPolicy</a>&gt;&nbsp;limitingTimestampAndWallClockLag(long&nbsp;timestampLag,
                                                                                             long&nbsp;wallClockLag)</pre>
<div class="block">Maintains watermark that lags behind the top timestamp by at most
 <code>timestampLag</code> and behind wall-clock time by at most <code>wallClockLag</code>. It assumes that the event timestamp is in milliseconds
 since Unix epoch and will use that fact to correlate it with wall-clock
 time acquired from the underlying OS. Note that wall-clock time is
 non-monotonic and sudden jumps that may occur in it will cause temporary
 disruptions in the functioning of this policy.
 <p>
 In most cases the <a href="../../../../com/hazelcast/jet/core/WatermarkPolicies.html#limitingLagAndLull-long-long-"><code>limitingLagAndLull</code></a> policy should be preferred; this is a backup option
 for cases where some substreams may never see an event.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timestampLag</code> - maximum difference between the top observed timestamp
                     and the watermark</dd>
<dd><code>wallClockLag</code> - maximum difference between the current value of
                     <code>System.currentTimeMillis</code> and the watermark</dd>
</dl>
</li>
</ul>
<a name="limitingLagAndLull-long-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>limitingLagAndLull</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
public static&nbsp;<a href="../../../../com/hazelcast/jet/function/DistributedSupplier.html" title="interface in com.hazelcast.jet.function">DistributedSupplier</a>&lt;<a href="../../../../com/hazelcast/jet/core/WatermarkPolicy.html" title="interface in com.hazelcast.jet.core">WatermarkPolicy</a>&gt;&nbsp;limitingLagAndLull(long&nbsp;lag,
                                                                               long&nbsp;maxLullMs)</pre>
<div class="block">Maintains watermark that lags behind the top timestamp by the amount
 specified with <code>lag</code>. Assumes that the event timestamp is given
 in milliseconds and will use that fact to correlate it with the passage
 of system time. There is no requirement on any specific point of origin
 for the timestamp, i.e., the zero value can denote any point in time as
 long as it is fixed.
 <p>
 When the defined <code>maxLullMs</code> period elapses without observing more
 events, watermark will start advancing in lockstep with system time
 acquired from the underlying OS's monotonic clock.
 <p>
 If no event is ever observed, watermark will advance from the initial
 value of <code>Long.MIN_VALUE</code>. Therefore this policy can be used only
 when there is a guarantee that each substream will emit at least one
 event that will initialize the timestamp. Otherwise the empty substream
 will hold back the processing of all other substreams by keeping the
 watermark below any realistic value. Configuring <a href="../../../../com/hazelcast/jet/core/WatermarkGenerationParams.html#idleTimeoutMillis--"><code>WatermarkGenerationParams.idleTimeoutMillis()</code></a> will cope with this.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lag</code> - the desired difference between the top observed timestamp
               and the watermark</dd>
<dd><code>maxLullMs</code> - maximum duration of a lull period before starting to
                  advance watermark with system time</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WatermarkPolicies.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/hazelcast/jet/core/WatermarkGenerationParams.html" title="class in com.hazelcast.jet.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/hazelcast/jet/core/WatermarkPolicy.html" title="interface in com.hazelcast.jet.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/hazelcast/jet/core/WatermarkPolicies.html" target="_top">Frames</a></li>
<li><a href="WatermarkPolicies.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All rights reserved.</small></p>
</body>
</html>
